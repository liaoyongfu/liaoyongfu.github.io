<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>liaoyf的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="创建一个React项目 React由Facebook所写，由虚拟Dom、组件化获得广大前端开发者的青睐，下面我们通过一个示例来演示创建React项目的步骤： 为什么用ReactReact解决了创建大型项目性能以及复用性问题，React可以有两种写法： 使用React.createClass语法 var HelloComponent = React.createClass({       rende">
<meta property="og:type" content="article">
<meta property="og:title" content="liaoyf的博客">
<meta property="og:url" content="http://liaoyongfu.com/2017/08/02/react/创建一个React项目/index.html">
<meta property="og:site_name" content="liaoyf的博客">
<meta property="og:description" content="创建一个React项目 React由Facebook所写，由虚拟Dom、组件化获得广大前端开发者的青睐，下面我们通过一个示例来演示创建React项目的步骤： 为什么用ReactReact解决了创建大型项目性能以及复用性问题，React可以有两种写法： 使用React.createClass语法 var HelloComponent = React.createClass({       rende">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2016-12-05T11:57:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="liaoyf的博客">
<meta name="twitter:description" content="创建一个React项目 React由Facebook所写，由虚拟Dom、组件化获得广大前端开发者的青睐，下面我们通过一个示例来演示创建React项目的步骤： 为什么用ReactReact解决了创建大型项目性能以及复用性问题，React可以有两种写法： 使用React.createClass语法 var HelloComponent = React.createClass({       rende">
  
    <link rel="alternate" href="/atom.xml" title="liaoyf的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">liaoyf的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://liaoyongfu.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-react/创建一个React项目" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/02/react/创建一个React项目/" class="article-date">
  <time datetime="2017-08-02T03:44:45.648Z" itemprop="datePublished">2017-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="创建一个React项目"><a href="#创建一个React项目" class="headerlink" title="创建一个React项目"></a>创建一个React项目</h1><hr>
<p>React由Facebook所写，由虚拟Dom、组件化获得广大前端开发者的青睐，下面我们通过一个示例来演示创建React项目的步骤：</p>
<h2 id="为什么用React"><a href="#为什么用React" class="headerlink" title="为什么用React"></a>为什么用<code>React</code></h2><p>React解决了创建大型项目性能以及复用性问题，React可以有两种写法：</p>
<p><em>使用React.createClass语法</em></p>
<pre><code>var HelloComponent = React.createClass({
      render: function() {
        return (
              &lt;div className=&quot;hello&quot;&gt;
                Hello, world!
              &lt;/div&gt;
        );
      }
});
</code></pre><p><em>使用ES6语法</em></p>
<pre><code>class HelloComponent extends React.Component {
  render() {
    return (
      &lt;div className=&quot;hello&quot;&gt;
        Hello, world!
      &lt;/div&gt;
    );
  }
}
</code></pre><h2 id="创建React项目"><a href="#创建React项目" class="headerlink" title="创建React项目"></a>创建React项目</h2><ol>
<li>安装<code>Node.js</code>和<code>NPM</code>，然后运行<code>npm init</code>创建一个<code>package.json</code>文件.</li>
<li>在控制台中运行：<code>npm install react react-dom babel-core babel-loader babel-preset-es2015 babel-preset-react webpack webpack-dev-server --save</code></li>
<li>创建<code>webpack.config.js</code>配置文件，这个的作用是帮我们打包资源，转换JSX为JS文件、合并、压缩、编译等等等。。。</li>
</ol>
<p>一个简单的webpack.config.js大致如下：</p>
<pre><code>var debug = process.env.NODE_ENV !== &quot;production&quot;;
var webpack = require(&apos;webpack&apos;);
var path = require(&apos;path&apos;);

module.exports = {
  context: path.join(__dirname, &quot;src&quot;),
  devtool: debug ? &quot;inline-sourcemap&quot; : null,
  entry: &quot;./js/App.js&quot;,
  devServer: {
    inline: true,
    port: 3333
  },
  module: {
    loaders: [
      {
        test: /\.jsx?$/,
        exclude: /(node_modules|bower_components)/,
        loader: &apos;babel-loader&apos;,
        query: {
          presets: [&apos;react&apos;, &apos;es2015&apos;],
          plugins: [&apos;react-html-attrs&apos;, &apos;transform-class-properties&apos;, &apos;transform-decorators-legacy&apos;],
        }
      }
    ]
  },
  output: {
    path: __dirname + &quot;/src/&quot;,
    filename: &quot;bundle.min.js&quot;
  },
  plugins: debug ? [] : [
    new webpack.optimize.DedupePlugin(),
    new webpack.optimize.OccurenceOrderPlugin(),
    new webpack.optimize.UglifyJsPlugin({ mangle: false, sourcemap: false }),
  ],
};
</code></pre><p>程序的入口通过<code>entry</code>设置，即页面第一次加载运行的文件，Webpack将把所有的JS和JSX文件到文件的输出对象，通过<code>devServer</code>设置webpack开发服务器为内联，并设置端口为<code>3333</code>，在<code>module</code>配置中，我们配置<code>babel</code>转换规则：使用<code>react</code>和<code>es2015</code>,plugins增加了类的属性和装饰器的功能。</p>
<h3 id="热加载"><a href="#热加载" class="headerlink" title="热加载"></a>热加载</h3><p>首先安装热加载模块：</p>
<pre><code>npm install --save-dev babel-preset-react-hmre
</code></pre><p>然后加到配置中：</p>
<pre><code>....
query: {
  presets: [&apos;react&apos;, &apos;es2015&apos;, &apos;react-hmre&apos;],
  plugins: [&apos;react-html-attrs&apos;, &apos;transform-class-properties&apos;, &apos;transform-decorators-legacy&apos;],
}
</code></pre><p>另一个选择是安装<code>react-hot-loader</code>然后添加<code>react-hot</code>到<code>webpack.config.js</code>配置中：</p>
<pre><code>...
loader: [&apos;babel-loader&apos;, &apos;react-hot&apos;]
...
</code></pre><p>为了运行项目更简单，我们一般会使用package.json的命令：</p>
<pre><code>{
  &quot;scripts&quot;: {
    &quot;start&quot;: &quot;node_modules/.bin/webpack-dev-server --progress --inline --hot&quot;,
  }
}
</code></pre><p>注意：我们命令中添加了<code>--hot</code>，这个启动了热加载模式.</p>
<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>路由是一个应用非常重要的一部分，在React中比较受欢迎的莫属<code>React Router</code>了，事实上，很多开发者认为它就是React官方版的路由，当然，你得先安装它：</p>
<pre><code>npm install --save react-router
</code></pre><p>一个简单的示例看起来是这样子的：</p>
<pre><code>import React from &apos;react&apos;;
import { render } from &apos;react-dom&apos;;
import { browserHistory, Router, Route, IndexRoute } from &apos;react-router&apos;

import App from &apos;../components/App&apos;
import Home from &apos;../components/Home&apos;
import About from &apos;../components/About&apos;
import Features from &apos;../components/Features&apos;

render(
  &lt;Router history={browserHistory}&gt;
    &lt;Route path=&apos;/&apos; component={App}&gt;
      &lt;IndexRoute component={Home} /&gt;
      &lt;Route path=&apos;about&apos; component={About} /&gt;
      &lt;Route path=&apos;features&apos; component={Features} /&gt;
    &lt;/Route&gt;
  &lt;/Router&gt;,
  document.getElementById(&apos;app&apos;)
)
</code></pre><h2 id="国际化-I18N"><a href="#国际化-I18N" class="headerlink" title="国际化(I18N)"></a>国际化(I18N)</h2><p>通过<code>react-intl</code>你可以很轻松地实现国际化，它支持超过150中不同语言，默认是英文，呃~</p>
<h2 id="权限认证"><a href="#权限认证" class="headerlink" title="权限认证"></a>权限认证</h2><p>Authentication is an important part of any application. The best way to do user authentication for single page apps is via JSON Web Tokens (JWT). A typical authentication flow is this:</p>
<ul>
<li>A user signs up/logs in, generate JWT token and return it to the client</li>
<li>Store the JWT token on the client and send it via headers/query parameters for future requests</li>
</ul>
<p>A comprehensive example of adding authentication to a ReactJS app is here. Using Redux? Here is a good example of setting up authentication in your ReactJS application.</p>
<h2 id="数据持久化"><a href="#数据持久化" class="headerlink" title="数据持久化"></a>数据持久化</h2><p>Without a backend, you can persist data in your Single Page App by using Firebase. In a Reactjs app, all you simply need is ReactFire. It is a ReactJS mixin for easy Firebase integration. With ReactFire, it only takes a few lines of JavaScript to integrate Firebase data into React apps via the ReactFireMixin</p>
<pre><code>npm install --save reactfire react firebase
</code></pre><p>TodoList Example</p>
<pre><code>import React from &apos;react&apos;;

class TodoList extends React.Component {
  render() {
    var _this = this;
    var createItem = (item, index) =&gt; {
      return (
        &lt;li key={ index }&gt;
          { item.text }
          &lt;span onClick={ _this.props.removeItem.bind(null, item[&apos;.key&apos;]) }
                style=&gt;
            X
          &lt;/span&gt;
        &lt;/li&gt;
      );
    };

    return &lt;ul&gt;{ this.props.items.map(createItem) }&lt;/ul&gt;;
  }
}

class TodoApp extends React.Component {
  getInitialState() {
    return {
      items: [],
      text: &apos;&apos;
    };
  }

  componentWillMount() {
    this.firebaseRef = firebase.database().ref(&apos;todoApp/items&apos;);
    this.firebaseRef.limitToLast(25).on(&apos;value&apos;, function(dataSnapshot) {
      var items = [];
      dataSnapshot.forEach(childSnapshot =&gt; {
        const item = childSnapshot.val();
        item[&apos;.key&apos;] = childSnapshot.key;
        items.push(item);
      });

      this.setState({
        items: items
      });
    }.bind(this));
  }

  componentWillUnmount() {
    this.firebaseRef.off();
  }

  onChange(e) {
    this.setState({text: e.target.value});
  }

  removeItem(key) {
    var firebaseRef = firebase.database().ref(&apos;todoApp/items&apos;);;
    firebaseRef.child(key).remove();
  }

  handleSubmit(e) {
    e.preventDefault();
    if (this.state.text &amp;&amp; this.state.text.trim().length !== 0) {
      this.firebaseRef.push({
        text: this.state.text
      });
      this.setState({
        text: &apos;&apos;
      });
    }
  }

  render() {
    return (
      &lt;div&gt;
        &lt;TodoList items={ this.state.items } removeItem={ this.removeItem } /&gt;
        &lt;form onSubmit={ this.handleSubmit }&gt;
          &lt;input onChange={ this.onChange } value={ this.state.text } /&gt;
          &lt;button&gt;{ &apos;Add #&apos; + (this.state.items.length + 1) }&lt;/button&gt;
        &lt;/form&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(&lt;TodoApp /&gt;, document.getElementById(&apos;todoApp&apos;));
</code></pre><p>More information about persisting your data using ReactFire <a href="https://github.com/firebase/reactfire/blob/master/docs/quickstart.md" target="_blank" rel="external">here</a>.</p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>Most projects become a mountain of spaghetti code at some point during development due to lack of solid tests or no tests at all. ReactJS apps are no different, but this can be avoided if you know some core principles. When writing tests for ReactJS code, it is helpful to pull out any functionality that doesn’t have to do with any UI components into separate modules, so that they can be tested separately. Tools for unit testing those functionalities are mocha, expect, chai, jasmine.</p>
<p>Testing becomes tricky in a ReactJS application when you have to deal with components. How do you test stateless components? How do you test components with state? Now, ReactJS provides a nice set of test utilities that allow us to inspect and examine the components we build. A particular concept worthy of mention is Shallow Rendering. Instead of rendering into a DOM the idea of shallow rendering is to instantiate a component and get the result of its render method. You can also check its props and children and verify they work as expected. More information here.</p>
<p>Facebook uses Jest to test React applications. AirBnB uses Enzyme. When bootstrapping your ReactJS application, you can set up any of these awesome tools to implement testing.</p>
<h2 id="脚手架和模板"><a href="#脚手架和模板" class="headerlink" title="脚手架和模板"></a>脚手架和模板</h2><p>A lot of tools have been mentioned in this post in relation to setting up different parts of a ReactJS app. If you don’t intend writing your app from scratch, there are lots of generators and boilerplates that tie all these tools together to give you a great starting point for your app. One fantastic example is React Starter Kit. It has a Yeoman generator. It’s an isomorphic web app boilerplate that contains almost everything you need to build a ReactJS app. Another boilerplate is React Static boilerplate, it helps you build a web app that can be hosted directly from CDNs like Firebase and Github Pages. Other alternatives are React redux starter kit and React webpack generator. Recently, a nice and effective tool called create-react-app was released by the guys at Facebook. It’s a CLI tool that helps create React apps with no build configuration!</p>
<h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>There are several tools that will help bootstrap your React app, we looked at a couple that we consider quite good and will have your application up and running in no time. But feel free to search for your own tools, and if you think that we are missing something, let us know in the comments. Setting up a React project should be painless!</p>
<p>“Setting up a React project should be painless!”</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liaoyongfu.com/2017/08/02/react/创建一个React项目/" data-id="cj5uo5qv0000cp8qondsu8p1x" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/08/02/webpack/webpack学习01——简介/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Récent</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2017/08/02/react/React遇到的坑/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flexbox/">flexbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/angular/" style="font-size: 10px;">angular</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/flexbox/" style="font-size: 10px;">flexbox</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/react/" style="font-size: 20px;">react</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/02/react/react文档-css动画/">react文档-css动画</a>
          </li>
        
          <li>
            <a href="/2017/08/02/css/Flexbox布局兼容性总结/">Flexbox布局兼容性总结</a>
          </li>
        
          <li>
            <a href="/2017/08/02/javascript/关于同一元素下dbClick触发两次click的问题/">关于同一元素下dbClick触发两次click的问题</a>
          </li>
        
          <li>
            <a href="/2017/08/02/react/React要手动绑定方法的原因/">React要手动绑定方法的原因</a>
          </li>
        
          <li>
            <a href="/2017/08/02/react/react获取父组件或子组件属性/">React获取父组件或子组件属性</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 liaoyf<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>